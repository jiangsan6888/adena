<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¸æˆäº¤æ˜“ - æ¸¸æˆå¸ã€é“å…·ã€è´¦å·äº¤æ˜“å¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', 'Malgun Gothic', sans-serif;
            background: #f5f7fa;
            color: #333;
            font-size: 14px;
            line-height: 1.5;
        }

        header {
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .top-bar {
            background: linear-gradient(90deg, #4f46e5, #6366f1);
            padding: 8px 0;
            font-size: 12px;
        }

        .top-bar .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        .top-bar a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .top-bar a:hover {
            opacity: 0.8;
        }

        .header-main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #4f46e5;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo::before {
            content: 'ğŸ®';
            font-size: 24px;
        }

        .main-nav {
            display: flex;
            gap: 35px;
        }

        .main-nav a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            font-size: 15px;
            position: relative;
            padding: 8px 0;
            transition: color 0.3s;
        }

        .main-nav a:hover {
            color: #4f46e5;
        }

        .main-nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #4f46e5;
            transition: width 0.3s;
        }

        .main-nav a:hover::after {
            width: 100%;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
        }

        .btn-sell, .btn-buy {
            padding: 10px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .btn-sell {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }

        .btn-sell:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn-buy {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
        }

        .btn-buy:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .filter-section {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .filter-row {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #f0f0f0;
        }

        .filter-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .filter-label {
            width: 120px;
            color: #4b5563;
            font-weight: 600;
            font-size: 14px;
        }

        .filter-options {
            flex: 1;
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .filter-option {
            padding: 8px 20px;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
            font-weight: 500;
        }

        .filter-option:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
        }

        .filter-option.active {
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border-color: #4f46e5;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }

        .search-box {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .search-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .results-header {
            background: #fff;
            padding: 20px 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .result-count {
            font-weight: 600;
            color: #4f46e5;
            font-size: 16px;
        }

        .sort-options {
            display: flex;
            gap: 10px;
        }

        .sort-btn {
            padding: 8px 16px;
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .sort-btn:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
        }

        .sort-btn.active {
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border-color: #4f46e5;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }

        .item-list {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .power-zone {
            background: linear-gradient(90deg, #fbbf24, #fcd34d);
            padding: 15px 25px;
            font-weight: 600;
            color: #78350f;
            font-size: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }

        th {
            padding: 16px 20px;
            text-align: left;
            font-weight: 600;
            color: #4b5563;
            font-size: 14px;
        }

        tbody tr {
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.3s;
        }

        tbody tr:hover {
            background: #f8fafc;
            transform: translateX(5px);
        }

        td {
            padding: 20px;
            font-size: 14px;
        }

        .server-name {
            color: #4f46e5;
            font-weight: 600;
            font-size: 14px;
        }

        .seller-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .seller-name {
            font-weight: 600;
            font-size: 14px;
        }

        .seller-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .stars {
            color: #fbbf24;
            font-size: 14px;
        }

        .rating-num {
            color: #64748b;
            font-weight: 500;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .badge-hot {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }

        .badge-safe {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
        }

        .item-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 15px;
            color: #1e293b;
        }

        .item-desc {
            color: #64748b;
            font-size: 13px;
            line-height: 1.4;
        }

        .price-main {
            font-size: 18px;
            font-weight: bold;
            color: #ef4444;
        }

        .price-unit {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 3px;
        }

        .time-posted {
            color: #94a3b8;
            font-size: 12px;
            font-weight: 500;
        }

        .preview-btn {
            padding: 6px 12px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s;
            margin-left: 8px;
        }

        .preview-btn:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 30px;
            padding: 25px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .page-btn {
            padding: 10px 16px;
            border: 1px solid #e2e8f0;
            background: #fff;
            cursor: pointer;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .page-btn:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
        }

        .page-btn.active {
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border-color: #4f46e5;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal.show {
            display: flex;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 450px;
            padding: 40px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: translateY(-20px);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: #94a3b8;
            cursor: pointer;
            background: #f8fafc;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #e2e8f0;
            color: #4f46e5;
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
            color: #4f46e5;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            color: #4b5563;
            font-weight: 600;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .form-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
            transform: translateY(-1px);
        }

        .form-submit {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(79, 70, 229, 0.3);
        }

        .form-footer {
            margin-top: 25px;
            text-align: center;
            font-size: 14px;
            color: #64748b;
        }

        .form-footer a {
            color: #4f46e5;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .form-footer a:hover {
            text-decoration: underline;
            color: #4338ca;
        }

        .form-divider {
            margin: 30px 0;
            text-align: center;
            position: relative;
        }

        .form-divider:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e2e8f0;
        }

        .form-divider span {
            background: white;
            padding: 0 20px;
            position: relative;
            color: #94a3b8;
            font-size: 14px;
            font-weight: 500;
        }

        .social-login {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
        }

        .social-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .social-btn:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(79, 70, 229, 0.1);
        }

        .error-message {
            color: #ef4444;
            font-size: 13px;
            margin-top: 8px;
            display: none;
            font-weight: 500;
        }

        .error-message.show {
            display: block;
            animation: shake 0.3s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #4b5563;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #4f46e5;
            cursor: pointer;
        }

        .user-menu {
            position: relative;
            display: none;
        }

        .user-menu.active {
            display: block;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 10px;
            transition: all 0.3s;
            background: rgba(79, 70, 229, 0.05);
        }

        .user-info:hover {
            background: rgba(79, 70, 229, 0.1);
            transform: translateY(-2px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-width: 180px;
            display: none;
            z-index: 100;
            overflow: hidden;
        }

        .user-dropdown.show {
            display: block;
            animation: dropdownSlide 0.3s ease-out;
        }

        @keyframes dropdownSlide {
            from { 
                opacity: 0;
                transform: translateY(-10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .user-dropdown a {
            display: block;
            padding: 12px 20px;
            color: #4b5563;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }

        .user-dropdown a:hover {
            background: #f8fafc;
            color: #4f46e5;
            transform: translateX(5px);
        }

        .admin-badge {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 6px;
            margin-left: 8px;
            font-weight: 600;
        }

        .admin-panel {
            display: none;
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .admin-panel.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        .admin-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.3);
        }

        .admin-header h1 {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .admin-header p {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .admin-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e2e8f0;
        }

        .admin-tab {
            padding: 15px 28px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
            position: relative;
        }

        .admin-tab:hover {
            color: #4f46e5;
            transform: translateY(-2px);
        }

        .admin-tab.active {
            color: #4f46e5;
            border-bottom-color: #4f46e5;
        }

        .admin-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        .admin-form {
            max-width: 600px;
        }

        .member-list, .product-list {
            margin-top: 30px;
        }

        .member-card, .product-card {
            border: 1px solid #e2e8f0;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .member-card:hover, .product-card:hover {
            border-color: #4f46e5;
            box-shadow: 0 4px 16px rgba(79, 70, 229, 0.1);
            transform: translateY(-2px);
        }

        .member-info, .product-info {
            flex: 1;
        }

        .member-name, .product-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 8px;
            color: #1e293b;
        }

        .member-details, .product-details {
            font-size: 14px;
            color: #64748b;
            line-height: 1.5;
        }

        .member-actions, .product-actions {
            display: flex;
            gap: 12px;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 500;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .btn-small:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(79, 70, 229, 0.1);
        }

        .btn-danger {
            border-color: #ef4444;
            color: #ef4444;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
            box-shadow: 0 4px 8px rgba(239, 68, 68, 0.2);
        }

        .notification-form {
            margin-bottom: 40px;
        }

        .notification-item {
            background: #f8fafc;
            padding: 20px;
            border-left: 4px solid #4f46e5;
            margin-bottom: 15px;
            border-radius: 10px;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .notification-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .notification-item.important {
            background: #fff7ed;
            border-left-color: #f97316;
        }

        .notification-title {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #1e293b;
        }

        .important-badge {
            background: linear-gradient(135deg, #f97316, #fb923c);
            color: white;
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 600;
        }

        .notification-time {
            font-size: 13px;
            color: #94a3b8;
            font-weight: 500;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.3);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(79, 70, 229, 0.4);
        }

        .stat-number {
            font-size: 40px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 500;
        }

        .back-to-store {
            display: inline-block;
            padding: 12px 28px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .back-to-store:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
        }

        /* å¯¼èˆªæŒ‰é’®æ ·å¼ */
        .nav-buttons {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .nav-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* æ¸¸æˆé€‰æ‹©ç•Œé¢æ ·å¼ */
        .game-selection {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            min-height: 80vh;
            display: flex;
            align-items: center;
            padding: 60px 0;
            position: relative;
        }

        .game-selection-title {
            text-align: center;
            color: white;
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 60px;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .game-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            flex-direction: row;
            align-items: center;
            height: 120px;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .game-image {
            width: 100px;
            height: 100px;
            overflow: hidden;
            margin: 10px;
            border-radius: 8px;
        }

        .game-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .game-card:hover .game-image img {
            transform: scale(1.05);
        }

        .game-info {
            flex: 1;
            padding: 15px;
        }

        .game-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #1e293b;
        }

        .game-desc {
            color: #64748b;
            margin-bottom: 10px;
            line-height: 1.4;
            font-size: 12px;
        }

        .game-stats {
            display: flex;
            gap: 15px;
            font-size: 11px;
            color: #94a3b8;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            table {
                display: block;
                overflow-x: auto;
            }
            
            .filter-options {
                max-width: 100%;
            }

            .modal-content {
                width: 95%;
                padding: 30px;
            }

            .header-main {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .main-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .action-buttons {
                width: 100%;
                justify-content: center;
            }

            .filter-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .filter-label {
                width: 100%;
                margin-bottom: 5px;
            }

            .admin-tabs {
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .game-selection-title {
                font-size: 32px;
                margin-bottom: 40px;
            }

            .game-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                max-width: 100%;
            }

            .game-card {
                flex-direction: column;
                height: auto;
                text-align: center;
            }

            .game-image {
                width: 150px;
                height: 150px;
                margin: 15px auto;
            }

            .game-info {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="container">
                <a href="#" id="loginBtn">ç™»å½•</a>
                <a href="#" id="registerBtn">ä¼šå‘˜æ³¨å†Œ</a>
                <a href="#">å®¢æœä¸­å¿ƒ</a>
                <div class="user-menu" id="userMenu">
                    <div class="user-info" id="userInfo">
                        <div class="user-avatar" id="userAvatar">U</div>
                        <span id="userName">ç”¨æˆ·å</span>
                    </div>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#">æˆ‘çš„è´¦æˆ·</a>
                        <a href="#">æˆ‘çš„è®¢å•</a>
                        <a href="#">è´¦æˆ·è®¾ç½®</a>
                        <a href="#" id="adminPanelBtn" style="display: none;">ç®¡ç†åå°</a>
                        <a href="#" id="logoutBtn">é€€å‡ºç™»å½•</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="logo">æ¸¸æˆäº¤æ˜“å¹³å°</div>
        </div>
    </header>

    <!-- æ¸¸æˆé€‰æ‹©ç•Œé¢ -->
    <div class="game-selection" id="gameSelection">
        <div class="nav-buttons">
            <a href="#" class="nav-btn" id="backToHome">ğŸ  è¿”å›é¦–é¡µ</a>
            <a href="#" class="nav-btn" id="goBack">â¬…ï¸ é€€å›</a>
        </div>
        <div class="container">
            <h1 class="game-selection-title">ê²Œì„ ì„ íƒ</h1>
            <div class="game-grid" id="gameGrid">
                <!-- åŠ¨æ€ç”Ÿæˆæ¸¸æˆç§ç±» -->
            </div>
        </div>
    </div>

    <!-- äº¤æ˜“å¹³å°ç•Œé¢ -->
    <div class="container" id="mainContainer" style="display: none;">
        <div class="filter-section">
            <div class="filter-row">
                <div class="filter-label">äº¤æ˜“ç±»å‹</div>
                <div class="filter-options">
                    <div class="filter-option active">å‡ºå”®</div>
                    <div class="filter-option">æ±‚è´­</div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-label">å•†å“ç±»å‹</div>
                <div class="filter-options">
                    <div class="filter-option active">å…¨éƒ¨</div>
                    <div class="filter-option">æ¸¸æˆå¸</div>
                    <div class="filter-option">é“å…·</div>
                    <div class="filter-option">è´¦å·</div>
                    <div class="filter-option">å…¶ä»–</div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-label">äº¤æ˜“çŠ¶æ€</div>
                <div class="filter-options">
                    <div class="filter-option active">å¯äº¤æ˜“å•†å“</div>
                    <div class="filter-option">å·²å®Œæˆäº¤æ˜“</div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-label">ä¼šå‘˜ç­‰çº§</div>
                <div class="filter-options">
                    <div class="filter-option">Level5</div>
                    <div class="filter-option">Level4</div>
                    <div class="filter-option">Level3</div>
                    <div class="filter-option">Level2</div>
                    <div class="filter-option">Level1</div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-label">æœç´¢</div>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="è¯·è¾“å…¥å•†å“åç§°">
                    <button class="search-btn">æœç´¢</button>
                </div>
            </div>
        </div>

        <div class="results-header">
            <div class="result-count">å…¨éƒ¨å•†å“ 21,252ä¸ª</div>
            <div class="sort-options">
                <button class="sort-btn active">æœ€æ–°å‘å¸ƒ</button>
                <button class="sort-btn">ä½ä»·ä¼˜å…ˆ</button>
                <button class="sort-btn">é«˜ä»·ä¼˜å…ˆ</button>
                <button class="sort-btn">å‰©ä½™æ•°é‡</button>
            </div>
        </div>

        <div class="item-list">
            <div class="power-zone">æ¨èå•†å“</div>
            <table>
                <thead>
                    <tr>
                        <th style="width: 10%">æœåŠ¡å™¨</th>
                        <th style="width: 15%">å–å®¶</th>
                        <th style="width: 35%">å•†å“å</th>
                        <th style="width: 15%">æ•°é‡/åˆ†ç±»</th>
                        <th style="width: 12%">å•ä»·</th>
                        <th style="width: 10%">äº¤æ˜“ä»·æ ¼</th>
                        <th style="width: 8%">å‘å¸ƒæ—¶é—´</th>
                    </tr>
                </thead>
                <tbody id="productTableBody">
                    <!-- åŠ¨æ€ç”Ÿæˆå•†å“åˆ—è¡¨ -->
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <button class="page-btn">ä¸Šä¸€é¡µ</button>
            <button class="page-btn active">1</button>
            <button class="page-btn">2</button>
            <button class="page-btn">3</button>
            <button class="page-btn">4</button>
            <button class="page-btn">5</button>
            <button class="page-btn">...</button>
            <button class="page-btn">100</button>
            <button class="page-btn">ä¸‹ä¸€é¡µ</button>
        </div>
    </div>

    <!-- ç®¡ç†å‘˜åå° -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h1>ç®¡ç†å‘˜æ§åˆ¶é¢æ¿</h1>
            <p>æ¬¢è¿ï¼Œ<span id="adminName"></span> <span class="admin-badge">ç®¡ç†å‘˜</span></p>
            <a href="#" class="back-to-store" id="backToStore">è¿”å›å•†åº—</a>
        </div>

        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="overview">æ¦‚è§ˆ</button>
            <button class="admin-tab" data-tab="members">ä¼šå‘˜ç®¡ç†</button>
            <button class="admin-tab" data-tab="products">å•†å“ç®¡ç†</button>
            <button class="admin-tab" data-tab="servers">æœåŠ¡å™¨ç®¡ç†</button>
            <button class="admin-tab" data-tab="games">æ¸¸æˆç®¡ç†</button>
            <button class="admin-tab" data-tab="notifications">é€šçŸ¥ç®¡ç†</button>
            <button class="admin-tab" data-tab="settings">ç³»ç»Ÿè®¾ç½®</button>
        </div>

        <div class="admin-content">
            <!-- æ¦‚è§ˆ -->
            <div class="admin-section active" id="section-overview">
                <h2>æ•°æ®æ¦‚è§ˆ</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalMembers">0</div>
                        <div class="stat-label">æ€»ä¼šå‘˜æ•°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalProducts">8</div>
                        <div class="stat-label">å•†å“æ•°é‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalNotifications">0</div>
                        <div class="stat-label">é€šçŸ¥æ•°é‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">Â¥0</div>
                        <div class="stat-label">ä»Šæ—¥äº¤æ˜“é¢</div>
                    </div>
                </div>
            </div>

            <!-- ä¼šå‘˜ç®¡ç† -->
            <div class="admin-section" id="section-members">
                <h2>ä¼šå‘˜ç®¡ç†</h2>
                <p style="color: #666; margin-bottom: 20px;">ç®¡ç†æ‰€æœ‰æ³¨å†Œä¼šå‘˜ï¼ŒæŸ¥çœ‹ä¼šå‘˜è¯¦ç»†ä¿¡æ¯</p>
                <div class="member-list" id="memberList"></div>
            </div>

            <!-- å•†å“ç®¡ç† -->
            <div class="admin-section" id="section-products">
                <h2>å•†å“ç®¡ç†</h2>
                <p style="color: #666; margin-bottom: 20px;">ç¼–è¾‘å•†å“ä¿¡æ¯å’Œä»·æ ¼ï¼Œç®¡ç†å•†å“åº“å­˜</p>
                <div class="product-list" id="productList"></div>
            </div>

            <!-- é€šçŸ¥ç®¡ç† -->
            <div class="admin-section" id="section-notifications">
                <h2>å‘å¸ƒç³»ç»Ÿé€šçŸ¥</h2>
                <p style="color: #666; margin-bottom: 20px;">å‘æ‰€æœ‰ç”¨æˆ·å‘å¸ƒé‡è¦å…¬å‘Šå’Œé€šçŸ¥</p>
                <form class="notification-form" id="notificationForm">
                    <div class="form-group">
                        <label class="form-label">é€šçŸ¥æ ‡é¢˜</label>
                        <input type="text" class="form-input" id="notifTitle" placeholder="ä¾‹å¦‚ï¼šç³»ç»Ÿç»´æŠ¤é€šçŸ¥" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">é€šçŸ¥å†…å®¹</label>
                        <textarea class="form-input" id="notifContent" rows="5" placeholder="è¯·è¾“å…¥è¯¦ç»†çš„é€šçŸ¥å†…å®¹..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-group">
                            <input type="checkbox" id="notifImportant">
                            <span>æ ‡è®°ä¸ºé‡è¦é€šçŸ¥</span>
                        </label>
                    </div>
                    <button type="submit" class="form-submit">ç«‹å³å‘å¸ƒé€šçŸ¥</button>
                </form>

                <h3 style="margin-top: 40px;">å·²å‘å¸ƒé€šçŸ¥åˆ—è¡¨</h3>
                <div id="notificationList"></div>
            </div>

            <!-- æœåŠ¡å™¨ç®¡ç† -->
            <div class="admin-section" id="section-servers">
                <h2>æœåŠ¡å™¨ç®¡ç†</h2>
                <p style="color: #666; margin-bottom: 20px;">æ·»åŠ å’Œç®¡ç†æ¸¸æˆæœåŠ¡å™¨åç§°</p>
                
                <form class="admin-form" id="serverForm" style="margin-bottom: 30px;">
                    <div class="form-group">
                        <label class="form-label">æ–°æœåŠ¡å™¨åç§°</label>
                        <input type="text" class="form-input" id="serverName" placeholder="ä¾‹å¦‚ï¼šå¤©å¯[å¤©æ—]" required>
                        <div class="error-message" id="serverNameError">è¯·è¾“å…¥æœåŠ¡å™¨åç§°</div>
                    </div>
                    <button type="submit" class="form-submit">æ·»åŠ æœåŠ¡å™¨</button>
                </form>

                <h3 style="margin-top: 40px;">å·²æ·»åŠ æœåŠ¡å™¨åˆ—è¡¨</h3>
                <div class="server-list" id="serverList"></div>
            </div>

            <!-- æ¸¸æˆç®¡ç† -->
            <div class="admin-section" id="section-games">
                <h2>æ¸¸æˆç®¡ç†</h2>
                <p style="color: #666; margin-bottom: 20px;">æ·»åŠ å’Œç®¡ç†æ¸¸æˆç§ç±»</p>
                
                <form class="admin-form" id="gameForm" style="margin-bottom: 30px;">
                    <div class="form-group">
                        <label class="form-label">æ¸¸æˆåç§°</label>
                        <input type="text" class="form-input" id="gameName" placeholder="ä¾‹å¦‚ï¼šì•„ì´ì˜¨2" required>
                        <div class="error-message" id="gameNameError">è¯·è¾“å…¥æ¸¸æˆåç§°</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ¸¸æˆæè¿°</label>
                        <input type="text" class="form-input" id="gameDesc" placeholder="ä¾‹å¦‚ï¼šNCsoftì˜ ì°¨ì„¸ëŒ€ MMORPG" required>
                        <div class="error-message" id="gameDescError">è¯·è¾“å…¥æ¸¸æˆæè¿°</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ¸¸æˆå›¾æ ‡</label>
                        <input type="text" class="form-input" id="gameImage" placeholder="ä¾‹å¦‚ï¼šğŸ®" required>
                        <div class="error-message" id="gameImageError">è¯·è¾“å…¥æ¸¸æˆå›¾æ ‡</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å•†å“æ•°é‡</label>
                        <input type="number" class="form-input" id="gameProductCount" placeholder="ä¾‹å¦‚ï¼š1000" required>
                        <div class="error-message" id="gameProductCountError">è¯·è¾“å…¥å•†å“æ•°é‡</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å–å®¶æ•°é‡</label>
                        <input type="number" class="form-input" id="gameSellerCount" placeholder="ä¾‹å¦‚ï¼š100" required>
                        <div class="error-message" id="gameSellerCountError">è¯·è¾“å…¥å–å®¶æ•°é‡</div>
                    </div>
                    <button type="submit" class="form-submit">æ·»åŠ æ¸¸æˆ</button>
                </form>

                <h3 style="margin-top: 40px;">å·²æ·»åŠ æ¸¸æˆåˆ—è¡¨</h3>
                <div class="game-list" id="gameList"></div>
            </div>

            <!-- ç³»ç»Ÿè®¾ç½® -->
            <div class="admin-section" id="section-settings">
                <h2>ä¿®æ”¹ç®¡ç†å‘˜å¯†ç </h2>
                <form class="admin-form" id="changePasswordForm">
                    <div class="form-group">
                        <label class="form-label">å½“å‰å¯†ç </label>
                        <input type="password" class="form-input" id="currentPassword" placeholder="è¯·è¾“å…¥å½“å‰å¯†ç ">
                        <div class="error-message" id="currentPasswordError">è¯·è¾“å…¥å½“å‰å¯†ç </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ–°å¯†ç </label>
                        <input type="password" class="form-input" id="newPassword" placeholder="è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰">
                        <div class="error-message" id="newPasswordError">å¯†ç è‡³å°‘éœ€è¦6ä¸ªå­—ç¬¦</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ç¡®è®¤æ–°å¯†ç </label>
                        <input type="password" class="form-input" id="confirmNewPassword" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ">
                        <div class="error-message" id="confirmNewPasswordError">ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´</div>
                    </div>
                    <button type="submit" class="form-submit">ä¿®æ”¹å¯†ç </button>
                </form>
            </div>
        </div>
    </div>

    <!-- ç™»å½•æ¨¡æ€æ¡† -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" id="closeLogin">&times;</button>
            <h2 class="modal-title">ä¼šå‘˜ç™»å½•</h2>
            


            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">ç”¨æˆ·å</label>
                    <input type="text" class="form-input" id="loginUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
                    <div class="error-message" id="loginUsernameError">è¯·è¾“å…¥ç”¨æˆ·å</div>
                </div>

                <div class="form-group">
                    <label class="form-label">å¯†ç </label>
                    <input type="password" class="form-input" id="loginPassword" placeholder="è¯·è¾“å…¥å¯†ç ">
                    <div class="error-message" id="loginPasswordError">è¯·è¾“å…¥å¯†ç </div>
                </div>

                <div class="form-group">
                    <label class="checkbox-group">
                        <input type="checkbox" id="rememberMe">
                        <span>è®°ä½æˆ‘</span>
                    </label>
                </div>

                <button type="submit" class="form-submit">ç™»å½•</button>
            </form>

            <div class="form-footer">
                è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ<a id="switchToRegister">ç«‹å³æ³¨å†Œ</a><br>
                <a href="#">å¿˜è®°å¯†ç ï¼Ÿ</a>
            </div>
        </div>
    </div>

    <!-- æ³¨å†Œæ¨¡æ€æ¡† -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <button class="modal-close" id="closeRegister">&times;</button>
            <h2 class="modal-title">ä¼šå‘˜æ³¨å†Œ</h2>



            <form id="registerForm">
                <div class="form-group">
                    <label class="form-label">ç”¨æˆ·å</label>
                    <input type="text" class="form-input" id="regUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆ3-20ä¸ªå­—ç¬¦ï¼‰">
                    <div class="error-message" id="regUsernameError">ç”¨æˆ·åæ ¼å¼ä¸æ­£ç¡®</div>
                </div>

                <div class="form-group">
                    <label class="form-label">æ‰‹æœºå·ç </label>
                    <input type="tel" class="form-input" id="regPhone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç ">
                    <div class="error-message" id="regPhoneError">è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç </div>
                </div>

                <div class="form-group">
                    <label class="form-label">å¯†ç </label>
                    <input type="password" class="form-input" id="regPassword" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰">
                    <div class="error-message" id="regPasswordError">å¯†ç è‡³å°‘éœ€è¦6ä¸ªå­—ç¬¦</div>
                </div>

                <div class="form-group">
                    <label class="form-label">ç¡®è®¤å¯†ç </label>
                    <input type="password" class="form-input" id="regConfirmPassword" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç ">
                    <div class="error-message" id="regConfirmPasswordError">ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´</div>
                </div>

                <div class="form-group">
                    <label class="checkbox-group">
                        <input type="checkbox" id="agreeTerms">
                        <span>æˆ‘å·²é˜…è¯»å¹¶åŒæ„<a href="#" style="color: #6952EB;">æœåŠ¡æ¡æ¬¾</a>å’Œ<a href="#" style="color: #6952EB;">éšç§æ”¿ç­–</a></span>
                    </label>
                    <div class="error-message" id="agreeTermsError">è¯·åŒæ„æœåŠ¡æ¡æ¬¾</div>
                </div>

                <button type="submit" class="form-submit">æ³¨å†Œ</button>
            </form>

            <div class="form-footer">
                å·²æœ‰è´¦å·ï¼Ÿ<a id="switchToLogin">ç«‹å³ç™»å½•</a>
            </div>
        </div>
    </div>

    <script>
        // æ•°æ®å­˜å‚¨é”®å
        const STORAGE_KEYS = {
            USERS: 'game_trade_users',
            PRODUCTS: 'game_trade_products',
            NOTIFICATIONS: 'game_trade_notifications',
            CURRENT_USER: 'game_trade_current_user',
            SERVERS: 'game_trade_servers',
            GAMES: 'game_trade_games'
        };

        // åˆå§‹æ•°æ®
        const INITIAL_DATA = {
            users: {
                'admin': {
                    username: 'admin',
                    email: 'admin@system.com',
                    password: 'admin',
                    isAdmin: true,
                    registeredDate: '2024-01-01'
                }
            },
            products: [
                {id: 1, name: 'æ»¡çº§ç¥è£… 3000æˆ˜åŠ›', server: 'å¤©å¯[å¤©æ—]', price: 899, stock: 5, category: 'è£…å¤‡', seller: 'è£…å¤‡ä¸“å–'},
                {id: 2, name: 'æ¸¸æˆå¸ æ‰‹å·¥æ‰“é‡‘', server: 'è£è€€[é­”æ—]', price: 320, stock: 999, category: 'æ¸¸æˆå¸', seller: 'æ¸¸æˆå¸å•†'},
                {id: 3, name: 'æ»¡çº§è´¦å· 2800æˆ˜åŠ›', server: 'æ°¸æ’[å¤©æ—]', price: 1599, stock: 1, category: 'è´¦å·', seller: 'ä¸“ä¸šä»£ç»ƒ'},
                {id: 4, name: 'å¼ºåŒ–çŸ³ å¤§é‡ç°è´§', server: 'ä¼ å¥‡[å¤©æ—]', price: 250, stock: 500, category: 'é“å…·', seller: 'ææ–™æ‰¹å‘'},
                {id: 5, name: 'æ¸¸æˆå¸æ‰¹å‘ å¤§é¢ä¼˜æƒ ', server: 'å¤©å¯[é­”æ—]', price: 1450, stock: 999, category: 'æ¸¸æˆå¸', seller: 'å¿«é€Ÿäº¤æ˜“'},
                {id: 6, name: 'Lv78 æˆ˜å£«å·', server: 'è£è€€[å¤©æ—]', price: 1299, stock: 1, category: 'è´¦å·', seller: 'ç²¾å“è´¦å·'},
                {id: 7, name: 'é™æ—¶ç‰¹æƒ  ç¨€æœ‰æ—¶è£…', server: 'æ°¸æ’[é­”æ—]', price: 199, stock: 200, category: 'é“å…·', seller: 'é“å…·å•†åŸ'},
                {id: 8, name: 'é«˜çº§å®çŸ³ å“è´¨ä¿è¯', server: 'ä¼ å¥‡[é­”æ—]', price: 800, stock: 300, category: 'é“å…·', seller: 'ä¿¡èª‰å•†å®¶'}
            ],
            notifications: [],
            servers: [
                'å¤©å¯[å¤©æ—]',
                'å¤©å¯[é­”æ—]',
                'è£è€€[å¤©æ—]',
                'è£è€€[é­”æ—]',
                'æ°¸æ’[å¤©æ—]',
                'æ°¸æ’[é­”æ—]',
                'ä¼ å¥‡[å¤©æ—]',
                'ä¼ å¥‡[é­”æ—]'
            ],
            games: [
                {
                    id: 1,
                    name: 'ì•„ì´ì˜¨2',
                    description: 'NCsoftì˜ ì°¨ì„¸ëŒ€ MMORPG ì•„ì´ì˜¨2',
                    image: 'ğŸ®',
                    productCount: 1528,
                    sellerCount: 256
                },
                {
                    id: 2,
                    name: 'ë¦¬ë‹ˆì§€2',
                    description: 'ì „ì„¤ì ì¸ MMORPG ë¦¬ë‹ˆì§€2',
                    image: 'âš”ï¸',
                    productCount: 3256,
                    sellerCount: 489
                },
                {
                    id: 3,
                    name: 'ë¦¬ë‹ˆì§€M',
                    description: 'ëª¨ë°”ì¼ MMORPG ë¦¬ë‹ˆì§€M',
                    image: 'ğŸ“±',
                    productCount: 2890,
                    sellerCount: 412
                },
                {
                    id: 4,
                    name: 'ë¸”ë ˆì´ë“œì—”ì†Œìš¸',
                    description: 'ì•¡ì…˜ MMORPG ë¸”ë ˆì´ë“œì—”ì†Œìš¸',
                    image: 'ğŸ—¡ï¸',
                    productCount: 1876,
                    sellerCount: 321
                },
                {
                    id: 5,
                    name: 'í”¼íŒŒì˜¨ë¼ì¸4',
                    description: 'ì˜¨ë¼ì¸ ì¶•êµ¬ ê²Œì„ í”¼íŒŒì˜¨ë¼ì¸4',
                    image: 'âš½',
                    productCount: 1245,
                    sellerCount: 218
                },
                {
                    id: 6,
                    name: 'ìŠ¤íƒ€í¬ë˜í”„íŠ¸2',
                    description: 'ë¦¬ì–¼íƒ€ì„ ì „ëµ ê²Œì„ ìŠ¤íƒ€í¬ë˜í”„íŠ¸2',
                    image: 'ğŸš€',
                    productCount: 876,
                    sellerCount: 156
                }
            ]
        };

        // æ•°æ®å­˜å‚¨
        let users = loadFromStorage(STORAGE_KEYS.USERS, INITIAL_DATA.users);
        let products = loadFromStorage(STORAGE_KEYS.PRODUCTS, INITIAL_DATA.products);
        let notifications = loadFromStorage(STORAGE_KEYS.NOTIFICATIONS, INITIAL_DATA.notifications);
        let servers = loadFromStorage(STORAGE_KEYS.SERVERS, INITIAL_DATA.servers);
        let games = loadFromStorage(STORAGE_KEYS.GAMES, INITIAL_DATA.games);
        let currentUser = loadFromStorage(STORAGE_KEYS.CURRENT_USER, null);

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®
        function loadFromStorage(key, defaultValue) {
            try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : defaultValue;
            } catch (error) {
                console.error('Error loading from storage:', error);
                return defaultValue;
            }
        }

        // ä¿å­˜æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
        function saveToStorage(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
            } catch (error) {
                console.error('Error saving to storage:', error);
            }
        }

        // ä¿å­˜æ‰€æœ‰æ•°æ®
        function saveAllData() {
            saveToStorage(STORAGE_KEYS.USERS, users);
            saveToStorage(STORAGE_KEYS.PRODUCTS, products);
            saveToStorage(STORAGE_KEYS.NOTIFICATIONS, notifications);
            saveToStorage(STORAGE_KEYS.SERVERS, servers);
            saveToStorage(STORAGE_KEYS.GAMES, games);
            saveToStorage(STORAGE_KEYS.CURRENT_USER, currentUser);
        }

        // ä»å†…å­˜ä¸­åŠ è½½ç”¨æˆ·çŠ¶æ€
        function loadUserState() {
            if (currentUser) {
                showUserMenu(currentUser);
            }
        }

        // æ˜¾ç¤ºç”¨æˆ·èœå•
        function showUserMenu(user) {
            document.getElementById('loginBtn').style.display = 'none';
            document.getElementById('registerBtn').style.display = 'none';
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.add('active');
            
            const userName = document.getElementById('userName');
            const userAvatar = document.getElementById('userAvatar');
            userName.textContent = user.username;
            userAvatar.textContent = user.username.charAt(0).toUpperCase();
            
            // å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œæ˜¾ç¤ºç®¡ç†åå°å…¥å£
            if (user.isAdmin) {
                document.getElementById('adminPanelBtn').style.display = 'block';
                userName.innerHTML = user.username + ' <span class="admin-badge">ç®¡ç†å‘˜</span>';
            }
        }

        // éšè—ç”¨æˆ·èœå•
        function hideUserMenu() {
            document.getElementById('loginBtn').style.display = 'inline';
            document.getElementById('registerBtn').style.display = 'inline';
            document.getElementById('userMenu').classList.remove('active');
        }

        // æ‰“å¼€/å…³é—­æ¨¡æ€æ¡†
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');

        document.getElementById('loginBtn').addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.classList.add('show');
        });

        document.getElementById('registerBtn').addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.classList.add('show');
        });

        document.getElementById('closeLogin').addEventListener('click', () => {
            loginModal.classList.remove('show');
        });

        document.getElementById('closeRegister').addEventListener('click', () => {
            registerModal.classList.remove('show');
        });

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.classList.remove('show');
            }
            if (e.target === registerModal) {
                registerModal.classList.remove('show');
            }
        });

        // åˆ‡æ¢ç™»å½•/æ³¨å†Œ
        document.getElementById('switchToRegister').addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.classList.remove('show');
            registerModal.classList.add('show');
        });

        document.getElementById('switchToLogin').addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.classList.remove('show');
            loginModal.classList.add('show');
        });

        // ç™»å½•è¡¨å•éªŒè¯å’Œæäº¤
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯
            document.getElementById('loginUsernameError').classList.remove('show');
            document.getElementById('loginPasswordError').classList.remove('show');
            
            let hasError = false;
            
            if (!username) {
                document.getElementById('loginUsernameError').classList.add('show');
                hasError = true;
            }
            
            if (!password) {
                document.getElementById('loginPasswordError').classList.add('show');
                hasError = true;
            }
            
            if (hasError) return;
            
            // éªŒè¯ç”¨æˆ·
            if (users[username] && users[username].password === password) {
                currentUser = users[username];
                saveAllData(); // ä¿å­˜ç™»å½•çŠ¶æ€
                showUserMenu(currentUser);
                loginModal.classList.remove('show');
                alert('ç™»å½•æˆåŠŸï¼');
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('loginForm').reset();
            } else {
                document.getElementById('loginPasswordError').textContent = 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯';
                document.getElementById('loginPasswordError').classList.add('show');
            }
        });

        // æ³¨å†Œè¡¨å•éªŒè¯å’Œæäº¤
        document.getElementById('registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('regUsername').value.trim();
            const phone = document.getElementById('regPhone').value.trim();
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            
            // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯
            document.querySelectorAll('#registerForm .error-message').forEach(el => {
                el.classList.remove('show');
            });
            
            let hasError = false;
            
            // éªŒè¯ç”¨æˆ·å
            if (!username || username.length < 3 || username.length > 20) {
                document.getElementById('regUsernameError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯ç”µè¯å·ç 
            const phoneRegex = /^1[3-9]\d{9}$/;
            if (!phone || !phoneRegex.test(phone)) {
                document.getElementById('regPhoneError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯å¯†ç 
            if (!password || password.length < 6) {
                document.getElementById('regPasswordError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯ç¡®è®¤å¯†ç 
            if (password !== confirmPassword) {
                document.getElementById('regConfirmPasswordError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯æœåŠ¡æ¡æ¬¾
            if (!agreeTerms) {
                document.getElementById('agreeTermsError').classList.add('show');
                hasError = true;
            }
            
            if (hasError) return;
            
            // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
            if (users[username]) {
                document.getElementById('regUsernameError').textContent = 'è¯¥ç”¨æˆ·åå·²è¢«ä½¿ç”¨';
                document.getElementById('regUsernameError').classList.add('show');
                return;
            }
            
            // æ³¨å†ŒæˆåŠŸ
            users[username] = {
                username: username,
                phone: phone,
                password: password
            };
            
            saveAllData(); // ä¿å­˜æ–°ç”¨æˆ·æ•°æ®
            
            alert('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•');
            registerModal.classList.remove('show');
            loginModal.classList.add('show');
            
            // æ¸…ç©ºæ³¨å†Œè¡¨å•
            document.getElementById('registerForm').reset();
        });

        // ç”¨æˆ·ä¸‹æ‹‰èœå•
        document.getElementById('userInfo').addEventListener('click', () => {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        });

        // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­ä¸‹æ‹‰èœå•
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#userMenu')) {
                document.getElementById('userDropdown').classList.remove('show');
            }
        });

        // é€€å‡ºç™»å½•
        document.getElementById('logoutBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                currentUser = null;
                saveAllData(); // ä¿å­˜é€€å‡ºçŠ¶æ€
                hideUserMenu();
                hideAdminPanel();
                alert('å·²é€€å‡ºç™»å½•');
            }
        });

        // ç®¡ç†å‘˜é¢æ¿åŠŸèƒ½
        document.getElementById('adminPanelBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (currentUser && currentUser.isAdmin) {
                showAdminPanel();
            }
        });

        document.getElementById('backToStore').addEventListener('click', (e) => {
            e.preventDefault();
            hideAdminPanel();
        });

        function showAdminPanel() {
            document.getElementById('mainContainer').style.display = 'none';
            document.getElementById('adminPanel').classList.add('active');
            document.getElementById('adminName').textContent = currentUser.username;
            updateAdminStats();
            loadMembers();
            loadProducts();
            loadServers();
            loadGames();
            loadNotifications();
        }

        function hideAdminPanel() {
            document.getElementById('mainContainer').style.display = 'block';
            document.getElementById('adminPanel').classList.remove('active');
        }

        // ç®¡ç†å‘˜æ ‡ç­¾åˆ‡æ¢
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active'));
                
                this.classList.add('active');
                const tabName = this.dataset.tab;
                document.getElementById('section-' + tabName).classList.add('active');
            });
        });

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateAdminStats() {
            const memberCount = Object.keys(users).length;
            document.getElementById('totalMembers').textContent = memberCount;
            document.getElementById('totalProducts').textContent = products.length;
            document.getElementById('totalNotifications').textContent = notifications.length;
        }

        // åŠ è½½ä¼šå‘˜åˆ—è¡¨
        function loadMembers() {
            const memberList = document.getElementById('memberList');
            memberList.innerHTML = '';
            
            Object.values(users).forEach(user => {
                const memberCard = document.createElement('div');
                memberCard.className = 'member-card';
                memberCard.innerHTML = `
                    <div class="member-info">
                        <div class="member-name">${user.username} ${user.isAdmin ? '<span class="admin-badge">ç®¡ç†å‘˜</span>' : ''}</div>
                        <div class="member-details">
                            æ‰‹æœºå·: ${user.phone || user.email || 'æœªè®¾ç½®'}<br>
                            æ³¨å†Œæ—¥æœŸ: ${user.registeredDate || '2024-01-14'}
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn-small" onclick="viewMember('${user.username}')">æŸ¥çœ‹è¯¦æƒ…</button>
                        ${!user.isAdmin ? `<button class="btn-small btn-danger" onclick="deleteMember('${user.username}')">åˆ é™¤</button>` : ''}
                    </div>
                `;
                memberList.appendChild(memberCard);
            });
        }

        // æŸ¥çœ‹ä¼šå‘˜è¯¦æƒ…ï¼ˆå¢å¼ºç‰ˆï¼‰
        window.viewMember = function(username) {
            const user = users[username];
            const memberDetails = `
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        ä¼šå‘˜è¯¦ç»†ä¿¡æ¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¤ ç”¨æˆ·å: ${user.username}
ï¿½ æ‰‹æœºå·: ${user.phone || user.email || 'æœªè®¾ç½®'}
ğŸ“… æ³¨å†Œæ—¥æœŸ: ${user.registeredDate || '2024-01-14'}
ğŸ–ï¸ è´¦æˆ·ç±»å‹: ${user.isAdmin ? 'ç®¡ç†å‘˜' : 'æ™®é€šä¼šå‘˜'}
ğŸ” è´¦æˆ·çŠ¶æ€: æ­£å¸¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `.trim();
            
            alert(memberDetails);
        };

        // åˆ é™¤ä¼šå‘˜ï¼ˆå¢å¼ºç‰ˆï¼‰
        window.deleteMember = function(username) {
            if (confirm(`âš ï¸ ç¡®å®šè¦åˆ é™¤ä¼šå‘˜ "${username}" å—ï¼Ÿ\n\næ­¤æ“ä½œå°†ï¼š\nâ€¢ åˆ é™¤è¯¥ä¼šå‘˜çš„æ‰€æœ‰ä¿¡æ¯\nâ€¢ æ— æ³•æ¢å¤\n\næ˜¯å¦ç»§ç»­ï¼Ÿ`)) {
                delete users[username];
                loadMembers();
                updateAdminStats();
                alert('âœ… ä¼šå‘˜å·²åˆ é™¤');
            }
        };

        // åŠ è½½å•†å“åˆ—è¡¨
        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-details">
                            æœåŠ¡å™¨: ${product.server} | åˆ†ç±»: ${product.category}<br>
                            ä»·æ ¼: Â¥${product.price} | åº“å­˜: ${product.stock} | å–å®¶: ${product.seller}
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn-small" onclick="editProduct(${product.id})">ç¼–è¾‘</button>
                        <button class="btn-small btn-danger" onclick="deleteProduct(${product.id})">åˆ é™¤</button>
                    </div>
                `;
                productList.appendChild(productCard);
            });
        }

        // ç¼–è¾‘å•†å“ï¼ˆæ”¹è¿›ç‰ˆï¼‰
        window.editProduct = function(id) {
            const product = products.find(p => p.id === id);
            
            // åˆ›å»ºç¼–è¾‘è¡¨å•
            const editForm = `
è¯·ç¼–è¾‘å•†å“ä¿¡æ¯ï¼š

å½“å‰å•†å“åç§°: ${product.name}
å½“å‰æœåŠ¡å™¨: ${product.server}
å½“å‰å–å®¶: ${product.seller}
å½“å‰ä»·æ ¼: Â¥${product.price}
å½“å‰åº“å­˜: ${product.stock}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `.trim();
            
            alert(editForm);
            
            // ç¼–è¾‘å•†å“åç§°
            const newName = prompt('ğŸ“ å•†å“åç§°:', product.name);
            if (newName === null) return;
            if (newName.trim() === '') {
                alert('å•†å“åç§°ä¸èƒ½ä¸ºç©ºï¼');
                return;
            }
            
            // ç¼–è¾‘æœåŠ¡å™¨åç§°
            let newServer = product.server;
            const serverOptions = servers.join('\n');
            const serverPrompt = `è¯·é€‰æ‹©æœåŠ¡å™¨åç§°ï¼š\n\nå½“å‰æœåŠ¡å™¨: ${product.server}\n\nå¯ç”¨æœåŠ¡å™¨ï¼š\n${serverOptions}\n\næˆ–è€…ç›´æ¥è¾“å…¥æ–°çš„æœåŠ¡å™¨åç§°`;
            const serverInput = prompt(serverPrompt, product.server);
            if (serverInput !== null) {
                const trimmedServer = serverInput.trim();
                if (trimmedServer !== '') {
                    newServer = trimmedServer;
                }
            }
            
            // ç¼–è¾‘å–å®¶åç§°
            const newSeller = prompt('ğŸ‘¤ å–å®¶åç§°:', product.seller);
            if (newSeller === null) return;
            if (newSeller.trim() === '') {
                alert('å–å®¶åç§°ä¸èƒ½ä¸ºç©ºï¼');
                return;
            }
            
            // ç¼–è¾‘ä»·æ ¼
            const newPrice = prompt('ğŸ’° ä»·æ ¼ (åªè¾“å…¥æ•°å­—):', product.price);
            if (newPrice === null) return;
            if (isNaN(newPrice) || newPrice <= 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ä»·æ ¼ï¼');
                return;
            }
            
            // ç¼–è¾‘åº“å­˜æ•°é‡
            const newStock = prompt('ğŸ“¦ åº“å­˜æ•°é‡ (åªè¾“å…¥æ•°å­—):', product.stock);
            if (newStock === null) return;
            if (isNaN(newStock) || newStock < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„åº“å­˜æ•°é‡ï¼');
                return;
            }
            
            // æ›´æ–°å•†å“ä¿¡æ¯
            product.name = newName.trim();
            product.server = newServer;
            product.seller = newSeller.trim();
            product.price = parseFloat(newPrice);
            product.stock = parseInt(newStock);
            
            saveAllData(); // ä¿å­˜ä¿®æ”¹
            loadProducts(); // åˆ·æ–°ç®¡ç†é¢æ¿
            generateProductList(); // åˆ·æ–°å‰ç«¯æ˜¾ç¤º
            
            alert(`âœ… å•†å“ä¿¡æ¯æ›´æ–°æˆåŠŸï¼\n\nå•†å“å: ${product.name}\næœåŠ¡å™¨: ${product.server}\nå–å®¶: ${product.seller}\nä»·æ ¼: Â¥${product.price}\nåº“å­˜: ${product.stock}`);
        };

        // åˆ é™¤å•†å“ï¼ˆå¢å¼ºç‰ˆï¼‰
        window.deleteProduct = function(id) {
            const product = products.find(p => p.id === id);
            if (confirm(`âš ï¸ ç¡®å®šè¦åˆ é™¤å•†å“ "${product.name}" å—ï¼Ÿ\n\næ­¤æ“ä½œæ— æ³•æ¢å¤ã€‚`)) {
                const index = products.findIndex(p => p.id === id);
                if (index > -1) {
                    products.splice(index, 1);
                    saveAllData(); // ä¿å­˜åˆ é™¤æ“ä½œ
                    loadProducts(); // åˆ·æ–°ç®¡ç†é¢æ¿
                    generateProductList(); // åˆ·æ–°å‰ç«¯æ˜¾ç¤º
                    updateAdminStats();
                    alert('âœ… å•†å“å·²åˆ é™¤');
                }
            }
        };

        // å‘å¸ƒé€šçŸ¥ï¼ˆå¢å¼ºç‰ˆï¼‰
        document.getElementById('notificationForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const title = document.getElementById('notifTitle').value.trim();
            const content = document.getElementById('notifContent').value.trim();
            const isImportant = document.getElementById('notifImportant').checked;
            
            if (!title || !content) {
                alert('âŒ è¯·å¡«å†™å®Œæ•´çš„é€šçŸ¥ä¿¡æ¯ï¼');
                return;
            }
            
            const notification = {
                id: Date.now(),
                title: title,
                content: content,
                isImportant: isImportant,
                time: new Date().toLocaleString('zh-CN'),
                views: 0
            };
            
            notifications.unshift(notification);
            saveAllData(); // ä¿å­˜æ–°é€šçŸ¥
            document.getElementById('notificationForm').reset();
            loadNotifications();
            updateAdminStats();
            
            alert(`âœ… é€šçŸ¥å·²æˆåŠŸå‘å¸ƒï¼\n\næ ‡é¢˜: ${title}\n${isImportant ? 'âš ï¸ å·²æ ‡è®°ä¸ºé‡è¦é€šçŸ¥' : ''}`);
        });

        // åŠ è½½é€šçŸ¥åˆ—è¡¨ï¼ˆå¢å¼ºç‰ˆï¼‰
        function loadNotifications() {
            const notificationList = document.getElementById('notificationList');
            notificationList.innerHTML = '';
            
            if (notifications.length === 0) {
                notificationList.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">ğŸ“­ æš‚æ— å‘å¸ƒçš„é€šçŸ¥</p>';
                return;
            }
            
            notifications.forEach(notif => {
                const notifItem = document.createElement('div');
                notifItem.className = 'notification-item' + (notif.isImportant ? ' important' : '');
                notifItem.innerHTML = `
                    <div class="notification-title">
                        ${notif.isImportant ? '<span class="important-badge">é‡è¦</span>' : ''}
                        ${notif.title}
                    </div>
                    <div style="margin: 10px 0; line-height: 1.6;">${notif.content}</div>
                    <div class="notification-time">ğŸ“… å‘å¸ƒæ—¶é—´: ${notif.time}</div>
                    <button class="btn-small btn-danger" style="margin-top: 10px;" onclick="deleteNotification(${notif.id})">åˆ é™¤é€šçŸ¥</button>
                `;
                notificationList.appendChild(notifItem);
            });
        }

        // åŠ è½½æœåŠ¡å™¨åˆ—è¡¨
        function loadServers() {
            const serverList = document.getElementById('serverList');
            serverList.innerHTML = '';
            
            if (servers.length === 0) {
                serverList.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">ğŸ–¥ï¸ æš‚æ— æ·»åŠ çš„æœåŠ¡å™¨</p>';
                return;
            }
            
            servers.forEach((server, index) => {
                const serverCard = document.createElement('div');
                serverCard.className = 'member-card'; // å¤ç”¨member-cardæ ·å¼
                serverCard.innerHTML = `
                    <div class="member-info">
                        <div class="member-name">${server}</div>
                        <div class="member-details">
                            æœåŠ¡å™¨ID: ${index + 1}
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn-small btn-danger" onclick="deleteServer('${server}')">åˆ é™¤</button>
                    </div>
                `;
                serverList.appendChild(serverCard);
            });
        }

        // æ·»åŠ æœåŠ¡å™¨
        document.getElementById('serverForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const serverName = document.getElementById('serverName').value.trim();
            
            if (!serverName) {
                document.getElementById('serverNameError').classList.add('show');
                return;
            }
            
            if (servers.includes(serverName)) {
                alert('âŒ è¯¥æœåŠ¡å™¨åç§°å·²å­˜åœ¨ï¼');
                return;
            }
            
            servers.push(serverName);
            saveAllData();
            loadServers();
            
            document.getElementById('serverForm').reset();
            alert(`âœ… æœåŠ¡å™¨ "${serverName}" æ·»åŠ æˆåŠŸï¼`);
        });

        // åˆ é™¤æœåŠ¡å™¨
        window.deleteServer = function(serverName) {
            if (confirm(`âš ï¸ ç¡®å®šè¦åˆ é™¤æœåŠ¡å™¨ "${serverName}" å—ï¼Ÿ\n\næ­¤æ“ä½œå°†ï¼š\nâ€¢ ä»æœåŠ¡å™¨åˆ—è¡¨ä¸­åˆ é™¤è¯¥æœåŠ¡å™¨\nâ€¢ ä¸ä¼šå½±å“å·²æœ‰çš„å•†å“\n\næ˜¯å¦ç»§ç»­ï¼Ÿ`)) {
                const index = servers.indexOf(serverName);
                if (index > -1) {
                    servers.splice(index, 1);
                    saveAllData();
                    loadServers();
                    alert('âœ… æœåŠ¡å™¨å·²åˆ é™¤');
                }
            }
        };

        // åŠ è½½æ¸¸æˆåˆ—è¡¨
        function loadGames() {
            const gameList = document.getElementById('gameList');
            gameList.innerHTML = '';
            
            if (games.length === 0) {
                gameList.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">ğŸ® æš‚æ— æ·»åŠ çš„æ¸¸æˆ</p>';
                return;
            }
            
            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'member-card'; // å¤ç”¨member-cardæ ·å¼
                gameCard.innerHTML = `
                    <div class="member-info">
                        <div class="member-name">${game.image} ${game.name}</div>
                        <div class="member-details">
                            æè¿°: ${game.description}<br>
                            å•†å“æ•°é‡: ${game.productCount}ê°œ<br>
                            å–å®¶æ•°é‡: ${game.sellerCount}ëª…
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn-small" onclick="editGame(${game.id})">ç¼–è¾‘</button>
                        <button class="btn-small btn-danger" onclick="deleteGame(${game.id})">åˆ é™¤</button>
                    </div>
                `;
                gameList.appendChild(gameCard);
            });
        }

        // æ·»åŠ æ¸¸æˆ
        document.getElementById('gameForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const gameName = document.getElementById('gameName').value.trim();
            const gameDesc = document.getElementById('gameDesc').value.trim();
            const gameImage = document.getElementById('gameImage').value.trim();
            const gameProductCount = parseInt(document.getElementById('gameProductCount').value);
            const gameSellerCount = parseInt(document.getElementById('gameSellerCount').value);
            
            if (!gameName || !gameDesc || !gameImage || isNaN(gameProductCount) || isNaN(gameSellerCount)) {
                alert('âŒ è¯·å¡«å†™å®Œæ•´çš„æ¸¸æˆä¿¡æ¯ï¼');
                return;
            }
            
            if (games.some(g => g.name === gameName)) {
                alert('âŒ è¯¥æ¸¸æˆåç§°å·²å­˜åœ¨ï¼');
                return;
            }
            
            const newGame = {
                id: Date.now(),
                name: gameName,
                description: gameDesc,
                image: gameImage,
                productCount: gameProductCount,
                sellerCount: gameSellerCount
            };
            
            games.push(newGame);
            saveAllData();
            loadGames();
            
            document.getElementById('gameForm').reset();
            alert(`âœ… æ¸¸æˆ "${gameName}" æ·»åŠ æˆåŠŸï¼`);
        });

        // ç¼–è¾‘æ¸¸æˆ
        window.editGame = function(id) {
            const game = games.find(g => g.id === id);
            
            const editForm = `
è¯·ç¼–è¾‘æ¸¸æˆä¿¡æ¯ï¼š

å½“å‰æ¸¸æˆåç§°: ${game.name}
å½“å‰æè¿°: ${game.description}
å½“å‰å›¾æ ‡: ${game.image}
å½“å‰å•†å“æ•°é‡: ${game.productCount}
å½“å‰å–å®¶æ•°é‡: ${game.sellerCount}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `.trim();
            
            alert(editForm);
            
            const newName = prompt('ğŸ“ æ¸¸æˆåç§°:', game.name);
            if (newName === null) return;
            if (newName.trim() === '') {
                alert('æ¸¸æˆåç§°ä¸èƒ½ä¸ºç©ºï¼');
                return;
            }
            
            const newDesc = prompt('ğŸ“„ æ¸¸æˆæè¿°:', game.description);
            if (newDesc === null) return;
            if (newDesc.trim() === '') {
                alert('æ¸¸æˆæè¿°ä¸èƒ½ä¸ºç©ºï¼');
                return;
            }
            
            const newImage = prompt('ğŸ® æ¸¸æˆå›¾æ ‡:', game.image);
            if (newImage === null) return;
            if (newImage.trim() === '') {
                alert('æ¸¸æˆå›¾æ ‡ä¸èƒ½ä¸ºç©ºï¼');
                return;
            }
            
            const newProductCount = prompt('ğŸ“¦ å•†å“æ•°é‡:', game.productCount);
            if (newProductCount === null) return;
            if (isNaN(newProductCount) || newProductCount < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å•†å“æ•°é‡ï¼');
                return;
            }
            
            const newSellerCount = prompt('ğŸ‘¤ å–å®¶æ•°é‡:', game.sellerCount);
            if (newSellerCount === null) return;
            if (isNaN(newSellerCount) || newSellerCount < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å–å®¶æ•°é‡ï¼');
                return;
            }
            
            // æ›´æ–°æ¸¸æˆä¿¡æ¯
            game.name = newName.trim();
            game.description = newDesc.trim();
            game.image = newImage.trim();
            game.productCount = parseInt(newProductCount);
            game.sellerCount = parseInt(newSellerCount);
            
            saveAllData();
            loadGames();
            generateGameSelection(); // æ›´æ–°æ¸¸æˆé€‰æ‹©ç•Œé¢
            
            alert(`âœ… æ¸¸æˆä¿¡æ¯æ›´æ–°æˆåŠŸï¼\n\næ¸¸æˆå: ${game.name}\næè¿°: ${game.description}`);
        };

        // åˆ é™¤æ¸¸æˆ
        window.deleteGame = function(id) {
            const game = games.find(g => g.id === id);
            if (confirm(`âš ï¸ ç¡®å®šè¦åˆ é™¤æ¸¸æˆ "${game.name}" å—ï¼Ÿ\n\næ­¤æ“ä½œå°†ï¼š\nâ€¢ ä»æ¸¸æˆåˆ—è¡¨ä¸­åˆ é™¤è¯¥æ¸¸æˆ\nâ€¢ ä¸ä¼šå½±å“å·²æœ‰çš„å•†å“\n\næ˜¯å¦ç»§ç»­ï¼Ÿ`)) {
                const index = games.findIndex(g => g.id === id);
                if (index > -1) {
                    games.splice(index, 1);
                    saveAllData();
                    loadGames();
                    generateGameSelection(); // æ›´æ–°æ¸¸æˆé€‰æ‹©ç•Œé¢
                    alert('âœ… æ¸¸æˆå·²åˆ é™¤');
                }
            }
        };

        // åˆ é™¤é€šçŸ¥ï¼ˆå¢å¼ºç‰ˆï¼‰
        window.deleteNotification = function(id) {
            const notif = notifications.find(n => n.id === id);
            if (confirm(`ç¡®å®šè¦åˆ é™¤é€šçŸ¥ "${notif.title}" å—ï¼Ÿ\n\nåˆ é™¤åå°†æ— æ³•æ¢å¤ã€‚`)) {
                const index = notifications.findIndex(n => n.id === id);
                if (index > -1) {
                    notifications.splice(index, 1);
                    saveAllData(); // ä¿å­˜åˆ é™¤æ“ä½œ
                    loadNotifications();
                    updateAdminStats();
                    alert('âœ… é€šçŸ¥å·²åˆ é™¤');
                }
            }
        };

        // ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
        document.getElementById('changePasswordForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmNewPassword = document.getElementById('confirmNewPassword').value;
            
            // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯
            document.querySelectorAll('#changePasswordForm .error-message').forEach(el => {
                el.classList.remove('show');
            });
            
            let hasError = false;
            
            // éªŒè¯å½“å‰å¯†ç 
            if (!currentPassword || currentPassword !== users.admin.password) {
                document.getElementById('currentPasswordError').textContent = 'å½“å‰å¯†ç é”™è¯¯';
                document.getElementById('currentPasswordError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯æ–°å¯†ç 
            if (!newPassword || newPassword.length < 6) {
                document.getElementById('newPasswordError').classList.add('show');
                hasError = true;
            }
            
            // éªŒè¯ç¡®è®¤å¯†ç 
            if (newPassword !== confirmNewPassword) {
                document.getElementById('confirmNewPasswordError').classList.add('show');
                hasError = true;
            }
            
            if (hasError) return;
            
            // ä¿®æ”¹å¯†ç 
            users.admin.password = newPassword;
            saveAllData(); // ä¿å­˜å¯†ç ä¿®æ”¹
            document.getElementById('changePasswordForm').reset();
            alert('å¯†ç ä¿®æ”¹æˆåŠŸï¼');
        });

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€
        loadUserState();

        // é€€å‡ºç™»å½•
        document.getElementById('logoutBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                currentUser = null;
                hideUserMenu();
                alert('å·²é€€å‡ºç™»å½•');
            }
        });

        // åŠ¨æ€ç”Ÿæˆå•†å“åˆ—è¡¨
        function generateProductList() {
            const tbody = document.getElementById('productTableBody');
            tbody.innerHTML = '';

            if (products.length === 0) {
                const emptyRow = document.createElement('tr');
                emptyRow.innerHTML = `
                    <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                        ğŸ“¦ æš‚æ— å•†å“
                    </td>
                `;
                tbody.appendChild(emptyRow);
                return;
            }

            products.forEach(product => {
                const row = document.createElement('tr');
                
                // éšæœºç”Ÿæˆä¸€äº›åŠ¨æ€æ•°æ®
                const ratings = [4.7, 4.8, 4.9, 5.0];
                const randomRating = ratings[Math.floor(Math.random() * ratings.length)];
                const randomTime = Math.floor(Math.random() * 60);
                const timeUnit = randomTime === 1 ? 'åˆ†é’Ÿ' : 'åˆ†é’Ÿ';
                
                // ç”Ÿæˆéšæœºå¾½ç« 
                const badges = [];
                if (Math.random() > 0.5) badges.push('<span class="badge badge-hot">HOT</span>');
                if (Math.random() > 0.5) badges.push('<span class="badge badge-safe">200%ä¿éšœ</span>');
                
                row.innerHTML = `
                    <td><span class="server-name">${product.server}</span></td>
                    <td>
                        <div class="seller-info">
                            <span class="seller-name">${product.seller}</span>
                            <div class="seller-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                <span class="rating-num">${randomRating}</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div>
                            ${badges.join(' ')}
                            <div class="item-title">${product.name}</div>
                            <div class="item-desc">${getProductDescription(product)}</div>
                        </div>
                    </td>
                    <td>${product.stock} ${getStockUnit(product.category)}<br><span style="color: #999;">${product.category}</span></td>
                    <td>
                        <div class="price-unit">${getPriceUnit(product.category)} Â¥${product.price}</div>
                    </td>
                    <td><span class="price-main">Â¥${product.price.toLocaleString()}</span></td>
                    <td class="time-posted">${randomTime}${timeUnit}å‰</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // è·å–å•†å“æè¿°
        function getProductDescription(product) {
            const descriptions = {
                'è£…å¤‡': 'é«˜å“è´¨è£…å¤‡ æå‡æˆ˜åŠ› é€‚åˆå„ç§åœºæ™¯',
                'æ¸¸æˆå¸': 'å®‰å…¨å¯é  å¿«é€Ÿäº¤æ˜“ 7x24å°æ—¶åœ¨çº¿',
                'è´¦å·': 'ä¸€æ‰‹è´¦å· æ— é»‘å†å² å¯æ”¹å¯†ä¿',
                'é“å…·': 'ç¨€æœ‰é“å…· é™é‡ä¾›åº” å…ˆåˆ°å…ˆå¾—'
            };
            return descriptions[product.category] || 'ä¼˜è´¨å•†å“ å€¼å¾—è´­ä¹°';
        }

        // è·å–åº“å­˜å•ä½
        function getStockUnit(category) {
            const units = {
                'è£…å¤‡': 'å¥—',
                'æ¸¸æˆå¸': 'ä¸‡',
                'è´¦å·': 'ä¸ª',
                'é“å…·': 'ä¸ª'
            };
            return units[category] || 'ä¸ª';
        }

        // è·å–ä»·æ ¼å•ä½
        function getPriceUnit(category) {
            const units = {
                'è£…å¤‡': '1å¥—',
                'æ¸¸æˆå¸': '100ä¸‡',
                'è´¦å·': '1ä¸ª',
                'é“å…·': '1ä¸ª'
            };
            return units[category] || '1ä¸ª';
        }

        // ç”Ÿæˆæ¸¸æˆé€‰æ‹©ç•Œé¢
        function generateGameSelection() {
            const gameGrid = document.getElementById('gameGrid');
            gameGrid.innerHTML = '';

            if (games.length === 0) {
                gameGrid.innerHTML = '<p style="text-align: center; color: white; font-size: 24px; grid-column: 1 / -1;">ğŸ® æš‚æ— æ¸¸æˆæ•°æ®</p>';
                return;
            }

            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                
                // ä¸ºæ¯ä¸ªæ¸¸æˆé€‰æ‹©å¯¹åº”çš„å›¾ç‰‡
                let imageSrc = '';
                if (game.name.includes('ì•„ì´ì˜¨')) {
                    imageSrc = 'img/ì•„ì´ì˜¨.jpg';
                } else if (game.name.includes('ë¦¬ë‹ˆì§€2')) {
                    imageSrc = 'img/ë¦¬ë‹ˆì§€2.jpg';
                } else if (game.name.includes('ë¦¬ë‹ˆì§€M')) {
                    imageSrc = 'img/ë¦¬ë‹ˆì§€m.jpg';
                } else {
                    imageSrc = `https://via.placeholder.com/250x150?text=${encodeURIComponent(game.name)}`;
                }

                gameCard.innerHTML = `
                    <div class="game-image">
                        <img src="${imageSrc}" alt="${game.name}">
                    </div>
                    <div class="game-info">
                        <div class="game-name">${game.name}</div>
                        <div class="game-desc">${game.description}</div>
                        <div class="game-stats">
                            <span>ğŸ“¦ ${game.productCount}ê°œ ìƒí’ˆ</span>
                            <span>ğŸ‘¤ ${game.sellerCount}ëª… íŒë§¤ì</span>
                        </div>
                    </div>
                `;

                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                gameCard.addEventListener('click', () => {
                    enterGameTrade(game);
                });

                gameGrid.appendChild(gameCard);
            });
        }

        // è¿›å…¥æ¸¸æˆäº¤æ˜“å¹³å°
        function enterGameTrade(game) {
            // æ˜¾ç¤ºäº¤æ˜“å¹³å°ç•Œé¢
            document.getElementById('gameSelection').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';

            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.querySelector('.header-main .logo').textContent = `${game.name} - æ¸¸æˆäº¤æ˜“å¹³å°`;

            // è¿™é‡Œå¯ä»¥æ·»åŠ æ ¹æ®æ¸¸æˆç­›é€‰å•†å“çš„é€»è¾‘
            alert(`ğŸ‰ æ¬¢è¿æ¥åˆ° ${game.name} äº¤æ˜“å¹³å°ï¼`);
        }

        // å¯¼èˆªæŒ‰é’®äº‹ä»¶å¤„ç†
        document.getElementById('backToHome').addEventListener('click', (e) => {
            e.preventDefault();
            // æ˜¾ç¤ºæ¸¸æˆé€‰æ‹©ç•Œé¢
            document.getElementById('gameSelection').style.display = 'flex';
            document.getElementById('mainContainer').style.display = 'none';
            // é‡ç½®é¡µé¢æ ‡é¢˜
            document.querySelector('.header-main .logo').textContent = 'æ¸¸æˆäº¤æ˜“å¹³å°';
        });

        document.getElementById('goBack').addEventListener('click', (e) => {
            e.preventDefault();
            // æ‰§è¡Œæµè§ˆå™¨åé€€æ“ä½œ
            window.history.back();
        });

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€
        loadUserState();
        generateGameSelection();
        generateProductList();

        // ç­›é€‰é€‰é¡¹åˆ‡æ¢
        document.querySelectorAll('.filter-option').forEach(option => {
            option.addEventListener('click', function() {
                const row = this.closest('.filter-row');
                row.querySelectorAll('.filter-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // æ’åºæŒ‰é’®åˆ‡æ¢
        document.querySelectorAll('.sort-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.sort-btn').forEach(b => {
                    b.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // åˆ†é¡µæŒ‰é’®åˆ‡æ¢
        document.querySelectorAll('.page-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (!this.textContent.includes('ä¸Š') && !this.textContent.includes('ä¸‹') && !this.textContent.includes('...')) {
                    document.querySelectorAll('.page-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    window.scrollTo({top: 0, behavior: 'smooth'});
                }
            });
        });

        // è¡¨æ ¼è¡Œç‚¹å‡»
        document.querySelectorAll('tbody tr').forEach(row => {
            row.addEventListener('click', function() {
                console.log('æŸ¥çœ‹å•†å“è¯¦æƒ…');
            });
        });
    </script>
</body>
</html>